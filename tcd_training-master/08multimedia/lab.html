<!doctype html>  
<html>
	<head>
		<meta charset="utf-8">
		<title class="l_labname">Lab: Multimedia</title>
		<meta name="description" content="Titanium Certified Development (TCD) Training">
    	<meta name="author" content="Appcelerator, Inc." />
		
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="../presentation-engine/reveal.js/css/reset.css">
		<link rel="stylesheet" href="../presentation-engine/reveal.js/css/main.css">
		<link rel="stylesheet" href="../css/magula.css">
		<link rel="stylesheet" href="../css/presentation.css">
		<script type="text/javascript" src="../presentation-engine/js/l10n.js"></script>
		<script type="text/javascript" src="i18n/lablocalizations.js"></script>
		<style>
		html, body {
			overflow: always !important;
		}
		.slides {
			top: 40% !important;
		}
		</style>
		<script>
		function loadStyleSheet(url){
		    if(document.createStyleSheet) {
		        try {document.createStyleSheet(url);} catch (e) { }
		    }
		    else{
		        var css;
		        css         = document.createElement('link');
		        css.rel     = 'stylesheet';
		        css.type    = 'text/css';
		        css.media   = "all";
		        css.href    = url;
		        document.getElementsByTagName("head")[0].appendChild(css);
		    }
		}
		var browserlang = document.documentElement.lang || String.locale || 'en-US';
		loadStyleSheet('../css/'+browserlang+'.css');
		</script>
		<link rel="stylesheet" href="../presentation-engine/reveal.js/css/print.css" media="print">
	</head>
	
	<body>
		<div id="reveal">	
<div class="slides">
<div id="labwrapper">			
<section>

<!-- YOUR LAB CONTENT GOES HERE -->
<h1 class="l_labname">Lab - Multimedia</h1>
<p class="l_mission"><img src='http://assets.appcelerator.com.s3.amazonaws.com/app_u/tcd_labs/Finished/08_finished_iphone.png' style='height:300px;float:right;margin-top:-40px;margin-bottom: 10px;'><strong>Mission: </strong>You will display an image on a details view for a fugitive within the TiBountyHunter app. You will also enable the user to select a photo from the camera or gallery.</p>

<p class="l_specification"><strong>Specification: </strong>In this lab, you will modify the app created in the preceding lab. You will add an image placeholder and enable the user to pick a photo from the camera or gallery. You won't be saving the photo in this lesson (that will come in the next lesson).<br/><br/>To successfully complete this lab, you must develop an application that meets the following description:</p>

<ul>
	<li class="l_spec1">Contains an image view on the details screen, which displays a placeholder image or the image obtained from the camera or gallery.</li>
	<li class="l_spec2">Has a button that when tapped opens the camera (if one is supported) or native gallery picker. </li>
	<li class="l_spec3">When an image is selected, it will be displayed in the image view but will not be saved. Thus, reopening a fugitive's details screen will subsequently show the default image again.</li>
</ul>

<table>
	<tr>
		<td colspan="2" class="labinstructions l_step1">1. Download the starting code for this lab from <a href="http://assets.appcelerator.com.s3.amazonaws.com/app_u/tcd_labs/Starting/08_multimedia.zip">S3: 08_multimedia</a> and unzip the files. Import the project into Titanium Studio. Update the tiapp.xml, if necessary (e.g. to set an appropriate SDK version or build target for your environment).</td>
	</tr>
	<tr>
		<td class="tdfiller"><!-- leave empty--></td>
		<td class="labexplanations l_stepexplanation1">This starting app extends the version you worked with in the preceding lab. It adds a details window with buttons to capture or delete the fugitive. You'll want to explore this code, perhaps after class, to see how that functionality has been enabled.</td>
	</tr>
	<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep2">2. In the FugitiveDetail.xml view, add the tags where indicated for the image view and photo button. </td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation2"></td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep3">3. In the associated FugitiveDetail.tss file, add style declarations for your image view and photo button. The image should be shown 10 units from the top with a height of 80 and width of 80. Use 'Add Photo' as the button text. It should be 10 from the top, 200 wide, and Ti.UI.SIZE tall.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation3"></td>
</tr>
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep4">4. In the FugitiveDetail.js controller, add the photo button event listener as described by the comments in that file. The camera should be opened if it's supported; otherwise open the photo gallery picker. For Android, make sure to not open the camera in the emulator by including <br/><pre><code>if (Ti.Media.isCameraSupported && Ti.Platform.model != 'google_sdk' && Ti.Platform.manufacturer != 'Genymotion')</code></pre> as part of your conditional statement. In the success callback, update your image view's image property with the media returned from the camera/gallery. Accept only photos (not videos) and don't save to the gallery or enable editing.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation4"></td>
</tr>

<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<tr>
	<td colspan="2" class="labinstructions l_labstep5">5. Save all the files. Build your app for the iOS simulator or Android emulator. Correct any problems that exist.</td>
</tr>
<tr>
	<td class="tdfiller"><!-- leave empty--></td>
	<td class="labexplanations l_labstepexplanation5">Your finished app should match the screen shot above. An image should be displayed after selected. Opening the details view again won't show that image; it's not being saved and associated with the model.</td>
</tr>

</table>

<h2 class="l_summary">Summary</h2>
<p class="l_summarypara">In this lab, you extended the supplied example app to enable photo capture and display. </p>

<h2 class="l_resources">Resources</h2>

<ul>
	<li class="l_resources1">API docs: Ti.Media <a href="http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.Media">http://docs.appcelerator.com/titanium/latest/#!/api/Titanium.Media</a></li>
	<li class="l_resources2">Guides: Camera &amp; Photo Gallery <a href="http://docs.appcelerator.com/titanium/latest/#!/guide/Camera_and_Photo_Gallery_APIs">http://docs.appcelerator.com/titanium/latest/#!/guide/Camera_and_Photo_Gallery_APIs</a></li>
	<li class="l_resources3">Finished code for this lab: <a href="http://assets.appcelerator.com.s3.amazonaws.com/app_u/tcd_labs/Finished/08_multimedia.zip">S3: 08_multimedia (finished)</a></li>
</ul>


<!-- MAKE NO CHANGES BELOW THIS LINE -->
</section>
</div>
</div>

			<!-- Appc logo and presenter notes -->
			<div id="appclogo"><a href="../index.html"><img src="../images/appu_thumb.png"/></a></div>

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
			</aside>

			<!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
			<div class="progress"><span></span></div>
			
		</div>
		
		<script src="../presentation-engine/reveal.js/js/reveal.js"></script>
		<script src="../presentation-engine/reveal.js/lib/highlight.js"></script>
		<script>
			// Parse the query string into a key/value object
			var query = {};
			location.search.replace( /[A-Z0-9]+?=(\w*)/gi, function(a) {
				query[ a.split( '=' ).shift() ] = a.split( '=' ).pop();
			} );

			Reveal.initialize({
				// Display controls in the bottom right corner
				controls: true,

				// Display a presentation progress bar
				progress: true,

				// If true; each slide will be pushed to the browser history
				history: true,

				// Flags if mouse wheel navigation should be enabled
				mouseWheel: true,

				// Apply a 3D roll to links on hover
				rollingLinks: true,

				// UI style
				theme: query.theme || 'default', // default/neon

				// Transition style
				transition: query.transition || 'default' // default/cube/page/concave/linear(2d)
			});

			hljs.initHighlightingOnLoad();
		</script>
		<script src="../presentation-engine/js/localize.js"></script>
		<script>
		var s = (function load(){
			var s = {};
			if(window.outerHeight){
				s = { w: window.outerWidth, h: window.outerHeight};
			}
			else {
				s = { w: document.body.clientWidth, h: document.body.clientHeight};
			}
			return s;
		})();
		if(s.w < 1000 || s.h < 800) {
			var slides = document.querySelectorAll( '#reveal .slides' );
			for( var i = 0, len = slides.length; i < len; i++ ) {
				slides[i].classList.add( 'smallscreen' );
		    }
		}
		</script>
	</body>
</html>
